import re


def readFile(filename):
    txt = ""
    with open(filename, "r") as f:
        txt = f.readlines()
    return txt


def matchid(alltxt, other):
    lenother = len(other)
    alltxt = "".join(alltxt)
    '''match id'''
    m = r"Successfully triggered bug (\d+)"
    res = re.findall(m, alltxt)
    res = res + other
    res = set(res)
    res = list(res)
    res.sort()
    return res, len(res), lenother


'''base64'''
# 37
base64l = ['1', '222', '235', '276', '278', '554', '556', '558', '560', '562', '566', '572', '573', '576', '582', '583',
           '584', '774', '776', '778', '780', '782', '784', '786', '788', '790', '792', '805', '806', '813', '815',
           '817', '831', '832', '835', '842', '843']
base64txt = readFile("crashinfo/crashes_base64.csv")

'''md5sum'''
# 34
md5suml = ['1', '10', '2', '270', '271', '273', '274', '276', '277', '284', '286', '306', '308', '314', '317', '320',
           '323', '326', '332', '335', '341', '347', '353', '356', '359', '362', '365', '368', '371', '374', '380',
           '547', '563', '9']
md5sumtxt = readFile("crashinfo/crashes_md5sum.csv")

# '''uniq'''
# 6
uniql = ['112', '169', '297', '346', '372', '397']
uniqtxt = readFile("crashinfo/crashes_uniq.csv")

# '''who'''
# 908
whol = ['1016', '1025', '1177', '119', '1201', '1202', '1203', '1204', '1205', '1206', '1207', '1208', '1209', '1210',
        '1211', '1212', '1213', '1214', '1215', '1216', '1217', '1218', '1237', '1238', '1239', '1240', '1241', '1242',
        '1243', '1244', '1245', '1246', '1247', '1248', '1249', '1250', '1251', '1252', '1253', '1254', '1255', '1258',
        '1259', '1260', '1261', '1262', '1263', '1264', '1265', '1266', '1267', '1268', '1269', '1270', '1271', '1272',
        '1273', '1274', '1275', '1276', '1277', '1278', '1279', '1280', '1281', '1282', '1283', '1284', '1285', '1286',
        '1287', '1288', '1289', '1290', '1291', '1292', '1293', '1294', '1295', '1296', '1297', '1298', '1299', '1300',
        '1301', '1302', '1303', '1304', '1305', '1306', '1307', '1309', '1310', '1311', '1312', '1313', '1314', '1315',
        '1316', '1317', '1318', '1319', '1320', '1321', '1322', '1323', '1324', '1325', '1326', '1327', '1330', '1331',
        '1333', '1335', '1337', '1338', '1341', '1342', '1343', '1364', '1374', '1376', '1378', '1380', '1381', '1384',
        '1385', '1386', '1389', '1390', '1392', '1395', '1396', '1399', '1400', '1401', '1404', '1405', '1407', '1409',
        '1411', '1412', '1413', '1416', '1418', '1422', '1424', '1425', '1427', '1431', '1433', '1438', '1440', '1442',
        '1446', '1448', '1449', '1452', '1453', '1454', '1457', '1458', '1460', '1462', '150', '1663', '1664', '1665',
        '1666', '1667', '1668', '1669', '1670', '1671', '1672', '1673', '1674', '1675', '1676', '1677', '1678', '1679',
        '1680', '1700', '1701', '171', '1718', '1719', '1720', '1721', '1722', '1723', '1724', '1725', '1726', '1727',
        '1728', '1729', '1730', '1731', '1732', '1733', '1734', '1735', '1736', '1739', '1740', '1741', '1742', '1743',
        '1744', '1745', '1746', '1747', '1748', '1749', '1750', '1751', '1752', '1753', '1754', '1755', '1756', '1757',
        '1758', '1759', '1760', '1761', '1762', '1763', '1764', '1765', '1766', '1767', '1768', '1769', '1770', '1771',
        '1772', '1773', '1774', '1775', '1776', '1777', '1778', '1779', '1780', '1781', '1782', '1783', '1784', '1785',
        '1786', '1787', '1788', '1789', '1790', '1791', '1792', '1793', '1794', '1795', '1796', '1797', '1799', '18',
        '1800', '1801', '1802', '1803', '1804', '1805', '1806', '1807', '1808', '1809', '1810', '1811', '1812', '1813',
        '1814', '1815', '1816', '1817', '1818', '1819', '1820', '1821', '1822', '1823', '1824', '1825', '1826', '1827',
        '1828', '1829', '1830', '1831', '1832', '1833', '1834', '1854', '1855', '1872', '1873', '1874', '1875', '1876',
        '1877', '1878', '1879', '1880', '1881', '1882', '1883', '1884', '1885', '1886', '1887', '1888', '1889', '1890',
        '1891', '1892', '1893', '1894', '1895', '1896', '1897', '1898', '1899', '1900', '1901', '1902', '1903', '1904',
        '1905', '1906', '1907', '1908', '1909', '1910', '1911', '1912', '1913', '1914', '1915', '1916', '1917', '1918',
        '1919', '1920', '1921', '1922', '1923', '1924', '1925', '1926', '1927', '1928', '1929', '1930', '1931', '1932',
        '1933', '1934', '1935', '1936', '1937', '1938', '1939', '1940', '1941', '1942', '1943', '1944', '1945', '1946',
        '1947', '1948', '1949', '1950', '1951', '1952', '1953', '1955', '1956', '1957', '1958', '1959', '1960', '1961',
        '1962', '1963', '1964', '1965', '1966', '1967', '1968', '1969', '1970', '1971', '1972', '20', '227', '231',
        '235', '239', '243', '276', '280', '284', '288', '301', '3475', '3531', '3532', '3535', '3536', '3771', '3772',
        '3773', '3774', '3775', '3776', '3777', '3778', '3779', '3780', '3781', '3782', '3783', '3784', '3785', '3786',
        '3787', '3788', '3793', '3794', '3795', '3796', '3797', '3798', '3799', '3805', '3806', '3835', '3836', '3837',
        '3838', '3839', '3840', '3845', '3846', '3847', '3848', '3855', '3856', '3857', '3858', '3859', '3860', '3865',
        '3866', '3867', '3868', '3882', '3883', '3884', '3885', '3886', '3887', '3892', '3893', '3894', '3895', '3904',
        '3905', '3906', '3907', '3908', '3909', '3914', '3915', '3916', '3917', '3920', '3921', '3922', '3923', '3924',
        '3925', '3926', '3927', '3929', '3931', '3932', '3933', '3934', '3935', '3937', '3939', '3942', '3943', '3944',
        '3945', '3946', '3947', '3948', '3949', '3950', '3951', '3952', '3953', '3954', '3955', '3956', '3957', '3958',
        '3959', '3960', '3961', '3962', '3963', '3964', '3965', '3966', '3967', '3968', '3969', '3970', '3971', '3972',
        '3973', '3974', '3975', '3976', '3977', '3978', '3979', '3980', '3981', '3982', '3983', '3984', '3985', '3986',
        '3991', '3992', '3993', '3994', '3995', '3996', '3997', '4003', '4004', '4033', '4034', '4035', '4036', '4037',
        '4038', '4043', '4044', '4045', '4046', '4053', '4054', '4055', '4056', '4057', '4058', '4063', '4064', '4065',
        '4066', '4080', '4081', '4082', '4083', '4084', '4085', '4090', '4091', '4092', '4093', '4102', '4103', '4104',
        '4105', '4106', '4107', '4112', '4113', '4114', '4115', '4120', '4121', '4122', '4123', '4124', '4125', '4130',
        '4131', '4132', '4133', '4140', '4141', '4142', '4143', '4144', '4145', '4146', '4147', '4148', '4149', '4150',
        '4151', '4152', '4153', '4154', '4155', '4156', '4157', '4158', '4159', '4160', '4161', '4162', '4163', '4164',
        '4165', '4166', '4167', '4168', '4169', '4170', '4171', '4172', '4173', '4174', '4175', '4176', '4177', '4178',
        '4179', '4180', '4181', '4182', '4183', '4184', '4189', '4190', '4191', '4192', '4193', '4194', '4195', '4201',
        '4202', '4231', '4232', '4233', '4234', '4235', '4236', '4241', '4242', '4243', '4244', '4251', '4252', '4253',
        '4254', '4255', '4256', '4261', '4262', '4263', '4264', '4278', '4279', '4280', '4281', '4282', '4283', '4288',
        '4289', '4290', '4291', '4300', '4301', '4302', '4303', '4304', '4305', '4310', '4311', '4312', '4313', '4318',
        '4319', '4320', '4321', '4322', '4323', '4328', '4329', '4330', '4331', '4338', '4339', '4340', '4341', '4342',
        '4343', '4344', '4345', '4346', '4347', '4348', '4349', '4350', '4351', '4352', '4353', '4354', '4355', '4356',
        '4357', '4358', '4359', '4360', '4361', '4362', '4363', '4364', '5', '517', '540', '541', '542', '543', '544',
        '545', '546', '547', '548', '549', '550', '551', '552', '553', '554', '555', '556', '557', '576', '577', '578',
        '579', '580', '581', '582', '583', '584', '585', '586', '587', '588', '589', '590', '591', '592', '593', '596',
        '597', '598', '599', '6', '600', '601', '602', '603', '604', '605', '606', '607', '608', '609', '610', '611',
        '612', '613', '614', '615', '616', '617', '618', '619', '620', '621', '622', '623', '625', '626', '627', '628',
        '629', '630', '631', '632', '633', '634', '635', '636', '637', '638', '639', '640', '641', '642', '643', '644',
        '645', '646', '647', '648', '649', '650', '651', '652', '653', '654', '655', '656', '657', '658', '659', '660',
        '679', '680', '681', '682', '683', '684', '685', '686', '687', '688', '689', '690', '691', '692', '693', '694',
        '695', '696', '697', '698', '699', '700', '701', '702', '703', '704', '705', '706', '707', '708', '709', '710',
        '711', '712', '713', '714', '715', '716', '717', '718', '719', '720', '721', '722', '723', '724', '725', '726',
        '727', '728', '730', '731', '732', '733', '734', '735', '736', '737', '738', '739', '740', '741', '742', '743',
        '744', '745', '746', '747']
whotxt = readFile("crashinfo/crashes_who.csv")

if __name__ == "__main__":
    b1, b2, b3 = matchid(base64txt, base64l)
    m1, m2, m3 = matchid(md5sumtxt, md5suml)
    u1, u2, u3 = matchid(uniqtxt, uniql)
    w1, w2, w3 = matchid(whotxt, whol)

    print("base64-{} md5sum-{} uniq-{} who-{}".format(b2, m2, u2, w2))
    # print(w1)
